<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ğŸ“š Django - Data Modelling</title>
    <link rel="stylesheet" href="/assets/built/screen.css?v=4fd90ad2f7">

    <meta name="description" content="æœ¬æ–‡æ˜¯é—œæ–¼ Django è³‡æ–™æ¨¡å‹çš„ç­†è¨˜">
    <link rel="icon" href="https://cmwang.net/content/images/size/w256h256/2024/01/2-removebg-preview.png" type="image/png">
    <link rel="canonical" href="https://cmwang.net/2020/10/django-data-modelling/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Liberation Notes">
    <meta property="og:type" content="article">
    <meta property="og:title" content="ğŸ“š Django - Data Modelling">
    <meta property="og:description" content="æœ¬æ–‡æ˜¯é—œæ–¼ Django è³‡æ–™æ¨¡å‹çš„ç­†è¨˜">
    <meta property="og:url" content="https://cmwang.net/2020/10/django-data-modelling/">
    <meta property="og:image" content="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta property="article:published_time" content="2020-10-24T16:00:00.000Z">
    <meta property="article:modified_time" content="2024-02-02T15:14:35.000Z">
    <meta property="article:tag" content="Django">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Web Dev">
    <meta property="article:tag" content="Notes">
    
    <meta property="article:publisher" content="https://www.facebook.com/ghost">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ğŸ“š Django - Data Modelling">
    <meta name="twitter:description" content="æœ¬æ–‡æ˜¯é—œæ–¼ Django è³‡æ–™æ¨¡å‹çš„ç­†è¨˜">
    <meta name="twitter:url" content="https://cmwang.net/2020/10/django-data-modelling/">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Jamie Wang">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Django, Python, Web Dev, Notes">
    <meta name="twitter:site" content="@ghost">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="900">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Liberation Notes",
        "url": "https://cmwang.net/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://cmwang.net/content/images/size/w256h256/2024/01/2-removebg-preview.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Jamie Wang",
        "image": {
            "@type": "ImageObject",
            "url": "https://cmwang.net/content/images/2024/01/jamie2.jpg",
            "width": 1200,
            "height": 1200
        },
        "url": "https://cmwang.net/author/jamie/",
        "sameAs": [
            "https://blog.cmwang.net"
        ]
    },
    "headline": "ğŸ“š Django - Data Modelling",
    "url": "https://cmwang.net/2020/10/django-data-modelling/",
    "datePublished": "2020-10-24T16:00:00.000Z",
    "dateModified": "2024-02-02T15:14:35.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&ixlib=rb-4.0.3&q=80&w=2000",
        "width": 1200,
        "height": 900
    },
    "keywords": "Django, Python, Web Dev, Notes",
    "description": "æœ¬æ–‡æ˜¯é—œæ–¼ Django è³‡æ–™æ¨¡å‹çš„ç­†è¨˜",
    "mainEntityOfPage": "https://cmwang.net/2020/10/django-data-modelling/"
}
    </script>

    <meta name="generator" content="Ghost 5.78">
    <link rel="alternate" type="application/rss+xml" title="Liberation Notes" href="https://cmwang.net/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="415aa5f59e59c087cacf652d7b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://cmwang.net/" crossorigin="anonymous"></script>
    
    <link href="https://cmwang.net/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=4fd90ad2f7"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=4fd90ad2f7">
    <!-- hide search box -->
<style>
.gh-search {
  display: none !important;
}
</style>


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G9WYYRMSWH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-G9WYYRMSWH');
</script>

<!-- prism.js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" integrity="sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" integrity="sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>:root {--ghost-accent-color: #D63484;}</style>
</head>

<body class="post-template tag-django tag-python tag-web-dev tag-notes tag-zh-tw is-head-left-logo">
<div class="gh-site">

    <header id="gh-head" class="gh-head gh-outer">
        <div class="gh-head-inner gh-inner">
            <div class="gh-head-brand">
                <div class="gh-head-brand-wrapper">
                    <a class="gh-head-logo" href="https://cmwang.net">
                            Liberation Notes
                    </a>
                </div>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-blog"><a href="https://cmwang.net/">Blog</a></li>
    <li class="nav-contact"><a href="https://cmwang.net/contact/">Contact</a></li>
    <li class="nav-about"><a href="https://cmwang.net/about/">About</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    <div class="site-content">
        
<main class="site-main">


        <article class="gh-article post tag-django tag-python tag-web-dev tag-notes tag-zh-tw">

            <header class="gh-article-header gh-canvas">
                <span class="gh-article-meta">
                        <a href="/tag/django/" class="gh-article-tag">Django</a>, <a href="/tag/python/" class="gh-article-tag">Python</a>, <a href="/tag/web-dev/" class="gh-article-tag">Web Dev</a>, <a href="/tag/notes/" class="gh-article-tag">Notes</a>
                    â€”
                    <time datetime="2020-10-25">Oct 25, 2020</time>
                </span>

                <h1 class="gh-article-title">ğŸ“š Django - Data Modelling</h1>


                    <figure class="gh-article-image kg-width-wide">
        <img
            srcset="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;720 720w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1200 1200w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
            sizes="(max-width: 1200px) 100vw, 1200px"
            src="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDR8fHB5dGhvbiUyMGRqYW5nb3xlbnwwfHx8fDE3MDY3NDQwOTF8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1200"
            alt="ğŸ“š Django - Data Modelling"
        >
            <figcaption><span style="white-space: pre-wrap;">Photo by </span><a href="https://unsplash.com/@faisaldada?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit"><span style="white-space: pre-wrap;">Faisal</span></a><span style="white-space: pre-wrap;"> / </span><a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit"><span style="white-space: pre-wrap;">Unsplash</span></a></figcaption>
    </figure>
            </header>

            <div class="gh-content gh-canvas">
                <h2 id="create-model">Create Model</h2>
<ul>
<li>æœƒè‡ªå‹•ç”¢ç”Ÿ primary keyï¼Œå› ç‚ºç¹¼æ‰¿è‡ª <strong>models.Model</strong>ã€‚è‹¥æƒ³è¦è‡ªè¨‚ <code>primary key</code>ï¼Œå¯ä»¥åƒè€ƒ sku çš„å¯«æ³•</li>
</ul>
<pre><code class="language-python"># playground/models.py
from django.db import models

# Create your models here.
class Product(models.Model):
    #sku = models.CharField(max_length=10, primary_key=True) # use this primary key
    title = models.CharField(max_length=300)
    description = models.TextField()
    price = models.DecimalField(max_digits=6, decimal_places=2)
    inventory = models.IntegerField()
    last_updated = models.DateTimeField(auto_now=True) # update every time
</code></pre>
<h2 id="choices-field"><code>Choices</code> field</h2>
<pre><code class="language-python">class Customer(models.Model):
    # best practice to prevent hardcode
    MEMBERSHIP_BRONZE = 'B'
    MEMBERSHIP_SILVER = 'S'
    MEMBERSHIP_GOLD = 'G'

    MEMBERSHIP_CHOICES = [
        (MEMBERSHIP_BRONZE, 'Bronze'),
        (MEMBERSHIP_SILVER, 'Silver'),
        (MEMBERSHIP_GOLD, 'Gold'),
    ]
    first_name = models.CharField(max_length=100)
    last_name = models.CharField(max_length=100)
    email = models.EmailField(max_length=100,unique=True)
    phone = models.CharField(max_length=15, unique=True)
    birth_date = models.DateTimeField(null=True, blank=True)
    membership = models.CharField(max_length=1, choices=MEMBERSHIP_CHOICES, default=MEMBERSHIP_BRONZE)
</code></pre>
<h2 id="one-to-one-relationship"><code>One-to-One</code> relationship</h2>
<pre><code class="language-python">class Address(models.Model):
    street = models.CharField(max_length=255)
    city = models.CharField(max_length=255)
    # address is the child, customer is the parent
    customr = models.OneToOneField(
        Customer, on_delete=models.CASCADE, primary_key=True)
</code></pre>
<ul>
<li><strong><code>on_delete=models.CASCADE</code> (å±¤ç´šåˆªé™¤)</strong>: ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹ä¹Ÿæœƒè¢«åˆªé™¤</li>
<li><strong><code>on_delete=models.PROTECT</code> (ä¿è­·æ¨¡å¼)</strong>: é˜²æ­¢åˆªé™¤çˆ¶æ¨¡å‹ï¼Œé™¤éå…ˆåˆªé™¤æ‰€æœ‰èˆ‡ä¹‹ç›¸é—œçš„å­æ¨¡å‹ã€‚</li>
<li><strong><code>on_delete=models.SET_NULL</code> (è¨­ç‚ºç©ºå€¼)</strong>: ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½ï¼ˆå³<code>OneToOneField</code>ï¼‰æœƒè¢«è¨­ç‚º NULLã€‚
<ul>
<li>ç¯„ä¾‹ï¼šä¸€å€‹ç°¡å–®çš„éƒ¨è½æ ¼ç³»çµ±ï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« è¢«ä½œè€…åˆªé™¤ï¼Œè©²æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚º NULLã€‚</li>
</ul>
</li>
<li><strong><code>on_delete=models.SET_DEFAULT</code> (è¨­ç‚ºé è¨­å€¼)</strong>: ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½æœƒè¢«è¨­ç‚ºé è¨­å€¼ã€‚
<ul>
<li>ç¯„ä¾‹ï¼šä¸€å€‹ç°¡å–®çš„éƒ¨è½æ ¼ç³»çµ±ï¼Œå¦‚æœä¸€ç¯‡æ–‡ç« è¢«ä½œè€…åˆªé™¤ï¼Œè©²æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚º NULLã€‚</li>
</ul>
</li>
<li><strong><code>on_delete=models.SET()</code> (è¨­å®šç‚ºç‰¹å®šå€¼)</strong>: ç•¶çˆ¶æ¨¡å‹è¢«åˆªé™¤æ™‚ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„å­æ¨¡å‹çš„å¤–éµæ¬„ä½æœƒè¢«è¨­ç‚ºç‰¹å®šçš„å€¼ï¼ˆé€šå¸¸æ˜¯å¦ä¸€å€‹å­˜åœ¨çš„æ¨¡å‹å¯¦ä¾‹ï¼‰ã€‚
<ul>
<li>ç¯„ä¾‹ï¼šä¸€å€‹è«–å£‡ç³»çµ±ï¼Œå¦‚æœä¸€å€‹ç”¨æˆ¶å¸³è™Ÿè¢«åˆªé™¤ï¼Œèˆ‡ä¹‹ç›¸é—œè¯çš„æ–‡ç« çš„ä½œè€…æ¬„ä½æœƒè¢«è¨­ç‚ºè«–å£‡çš„é è¨­ç”¨æˆ¶ï¼Œé€™å€‹é è¨­ç”¨æˆ¶çš„ ID ç‚º 1ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="language-python">class Child(models.Model):
    parent = models.OneToOneField(Parent, on_delete=models.CASCADE)
    ...
class Child(models.Model):
    parent = models.OneToOneField(Parent, on_delete=models.PROTECT)
    ...
class Child(models.Model):
    parent = models.OneToOneField(Parent, on_delete=models.SET_NULL, null=True)
    ...
class Child(models.Model):
    parent = models.OneToOneField(Parent, on_delete=models.SET_DEFAULT, default=1)
    ...
class Child(models.Model):
    parent = models.OneToOneField(Parent, on_delete=models.SET(DefaultParent.objects.get(pk=1)))
    ...
</code></pre>
<h2 id="one-to-many-relationship"><code>One-to-many</code> relationship</h2>
<p>one collection can have many products</p>
<ul>
<li>
<p>Use <code>foreignkey</code></p>
</li>
<li>
<p>if you can not modify the order of declaration for the <code>collection</code> model, you can employ a <code>string argument</code> within the <code>ForeignKey</code> field:</p>
<p><code>collection = models.ForeignKey('Collection', on_delete=models.PROTECT)</code></p>
</li>
</ul>
<pre><code class="language-python">class Collection(models.Model):
    title = models.CharField(max_length=300)

class Product(models.Model):
    ...
    collection = models.ForeignKey(Collection, on_delete=models.PROTECT)
</code></pre>
<h2 id="many-to-many-relationship"><code>Many-to-Many</code> relationship</h2>
<ul>
<li>Use <code>ManyToManyField</code></li>
<li>to customize the name of the reverse relation. Instead of the default <code>product_set</code>, you can use the <code>related_name</code> field</li>
</ul>
<pre><code class="language-python">class Promotion(models.Model):
    description = models.CharField(max_length=255)
    discount = models.FloatField()
    # product_set

class Product(models.Model):
    ...
    collection = models.ForeignKey('Collection', on_delete=models.PROTECT)
    #promotions = models.ManyToManyField(Promotion, related_name='products')
    promotions = models.ManyToManyField(Promotion)

</code></pre>
<h2 id="generic-relationship"><code>Generic</code> Relationship</h2>
<pre><code class="language-python">from django.contrib.contenttypes.models import ContentType
from django.contrib.contenttypes.fields import GenericForeignKey
from django.contrib.auth.models import User

class LikeItem(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    # type (Table)
    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE)
    # ID (record)
    object_id = models.PositiveSmallIntegerField()
    # Pointer
    content_object = GenericForeignKey()
</code></pre>
<ol>
<li>
<p><strong><code>ContentType</code> (å…§å®¹é¡å‹)</strong>: åœ¨ Django ä¸­ï¼Œ<code>ContentType</code> æ˜¯ä¸€å€‹æ¨¡å‹ï¼Œå®ƒç”¨ä¾†è¡¨ç¤ºå…¶ä»–æ¨¡å‹çš„é¡å‹ã€‚åœ¨é€™å€‹ç¨‹å¼ç¢¼ä¸­ï¼Œ<code>content_type</code> æ¬„ä½æ˜¯ä¸€å€‹å¤–éµï¼Œé—œè¯åˆ° <code>ContentType</code> æ¨¡å‹ã€‚é€™éº¼åšçš„å¥½è™•æ˜¯ï¼Œå®ƒå…è¨±ä½ å‹•æ…‹åœ°åƒç…§å…¶ä»–æ¨¡å‹ï¼Œè€Œä¸æ˜¯åœ¨ç¨‹å¼ç¢¼ä¸­ç›´æ¥å¯«æ­»æ¨¡å‹çš„åç¨±ã€‚é€™æ¨£çš„è¨­è¨ˆå¯ä»¥å¢åŠ å½ˆæ€§ï¼Œè®“ä½ çš„ç¨‹å¼ç¢¼æ›´å®¹æ˜“æ“´å±•å’Œä¿®æ”¹ï¼Œè€Œä¸éœ€è¦æ”¹å‹•å¤ªå¤šç¨‹å¼ç¢¼ã€‚</p>
</li>
<li>
<p><strong><code>GenericForeignKey</code> (é€šç”¨å¤–éµ)</strong>: <code>GenericForeignKey</code> æ˜¯ä¸€å€‹ç”¨æ–¼é—œè¯ä»»æ„æ¨¡å‹çš„ç‰¹æ®Šæ¬„ä½ã€‚åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>content_object</code> æ¬„ä½ä½¿ç”¨äº† <code>GenericForeignKey</code>ã€‚é€™æ„å‘³è‘— <code>LikeItem</code> æ¨¡å‹å¯ä»¥èˆ‡ä»»ä½•å…¶ä»–æ¨¡å‹å»ºç«‹é—œè¯ï¼Œè€Œä¸åƒ…åƒ…æ˜¯å›ºå®šçš„ä¸€å€‹æˆ–å¹¾å€‹æ¨¡å‹ã€‚é€šé <code>content_type</code> å’Œ <code>object_id</code> é€™å…©å€‹æ¬„ä½ï¼Œä½ å¯ä»¥å‹•æ…‹åœ°å»ºç«‹èˆ‡ä¸åŒæ¨¡å‹çš„é—œè¯ã€‚</p>
</li>
<li>
<p><strong><code>LikeItem</code> æ¨¡å‹</strong>: <code>LikeItem</code> æ˜¯ä¸€å€‹ç”¨æˆ¶é»è´Šçš„æ¨¡å‹ï¼Œå®ƒé—œè¯åˆ°äº†ä½¿ç”¨è€… (<code>user</code>) å’Œå…¶ä»–æ¨¡å‹ (<code>content_type</code> å’Œ <code>object_id</code> ç¢ºå®šçš„æ¨¡å‹)ã€‚é€™æ¨£çš„è¨­è¨ˆå…è¨±ä½ åœ¨ä¸ç¢ºå®šå…·é«”æ¨¡å‹çš„æƒ…æ³ä¸‹ï¼Œä¿å­˜ç”¨æˆ¶å°ä¸åŒé¡å‹ç‰©ä»¶çš„å–œæ„›ã€‚</p>
</li>
</ol>
<p>åœ¨ <code>LikeItem</code> æ¨¡å‹ä¸­ï¼Œ<code>content_type</code> æ˜¯ä¸€å€‹å¤–éµæ¬„ä½ï¼Œé—œè¯åˆ° <code>ContentType</code> æ¨¡å‹ï¼Œç”¨ä¾†æŒ‡å®šè¢«é»è´Šç‰©ä»¶çš„é¡å‹ï¼ˆä¾‹å¦‚ï¼Œæ˜¯ä¸€ç¯‡æ–‡ç« é‚„æ˜¯ä¸€å¼µåœ–ç‰‡ç­‰ç­‰ï¼‰ã€‚è€Œ <code>object_id</code> æ˜¯ä¸€å€‹æ­£æ•´æ•¸æ¬„ä½ï¼Œç”¨ä¾†æŒ‡å®šå…·é«”çš„è¢«é»è´Šç‰©ä»¶çš„ IDã€‚</p>
<p><code>GenericForeignKey</code> çš„ä½œç”¨å°±æ˜¯æŠŠ <code>content_type</code> å’Œ <code>object_id</code> é€™å…©å€‹æ¬„ä½é—œè¯åˆ°ä¸€å€‹å…·é«”çš„æ¨¡å‹å¯¦ä¾‹ä¸Šï¼Œé€™æ¨£ä½ å°±å¯ä»¥åœ¨ <code>LikeItem</code> ä¸­ä½¿ç”¨ <code>content_object</code> é€™å€‹å±¬æ€§ï¼Œç›´æ¥è¨ªå•è¢«é»è´Šçš„å…·é«”ç‰©ä»¶ï¼Œè€Œä¸éœ€è¦é—œå¿ƒå®ƒæ˜¯å“ªç¨®æ¨¡å‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœ <code>content_type</code> æŒ‡å®šç‚ºæ–‡ç« ï¼Œ<code>object_id</code> æŒ‡å®šç‚ºæŸç¯‡æ–‡ç« çš„ IDï¼Œé‚£éº¼ <code>content_object</code> å°±å¯ä»¥ç›´æ¥è¨ªå•è©²ç¯‡æ–‡ç« çš„æ‰€æœ‰å±¬æ€§å’Œæ–¹æ³•ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥åœ¨ä¸ç¢ºå®šå…·é«”æ¨¡å‹çš„æƒ…æ³ä¸‹ï¼Œå‹•æ…‹åœ°å»ºç«‹é—œè¯ï¼Œä½¿å¾—ç¨‹å¼ç¢¼æ›´åŠ éˆæ´»å’Œå¯æ“´å±•ã€‚</p>
<p>ä½ å¯ä»¥å°‡ <code>content_object</code> æƒ³åƒæˆç¨‹å¼èªè¨€ä¸­çš„æŒ‡æ¨™ <code>pointer</code>ã€‚åœ¨é€™å€‹ä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>content_object</code> å¯¦éš›ä¸Šæ˜¯ä¸€å€‹é€šç”¨æŒ‡æ¨™ï¼ŒæŒ‡å‘äº†æ‡‰ç”¨ä¸­çš„ä»»ä½•ä¸€å€‹æ¨¡å‹çš„ç‰¹å®šå¯¦ä¾‹ã€‚é€™æ¨£çš„è¨­è¨ˆä½¿å¾—ä½ å¯ä»¥å‹•æ…‹åœ°æŒ‡å‘å’Œè¨ªå•ä¸åŒæ¨¡å‹çš„ç‰©ä»¶ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…·é«”æ˜¯å“ªå€‹é¡å‹çš„ç‰©ä»¶ã€‚</p>
<p>å°±åƒæŒ‡æ¨™åœ¨ç¨‹å¼èªè¨€ä¸­å¯ä»¥æŒ‡å‘ä¸åŒçš„è®Šæ•¸æˆ–æ•¸æ“šçµæ§‹ï¼Œ<code>content_object</code> å…è¨±ä½ åœ¨ <code>LikeItem</code> æ¨¡å‹ä¸­æŒ‡å‘ä»»ä½•é¡å‹çš„ç‰©ä»¶ï¼Œå¾è€Œå¯¦ç¾å½ˆæ€§çš„è³‡æ–™æ¨¡å‹ã€‚é€™æ¨£çš„æŠ½è±¡è¨­è¨ˆä½¿å¾—ç¨‹å¼ç¢¼æ›´å…·é€šç”¨æ€§ï¼Œå¯ä»¥æ‡‰å°å¤šç¨®ä¸åŒçš„æƒ…æ³ï¼ŒåŒæ™‚ä¹Ÿä½¿å¾—ç¨‹å¼ç¢¼æ›´å®¹æ˜“æ“´å±•å’Œç¶­è­·ã€‚</p>
<hr>
<h2 id="generic-relationshipexample">Generic Relationship - <strong>Example</strong></h2>
<p>å‡è¨­ä½ çš„å°è±¡æ˜¯ <code>Article</code>ï¼ˆæ–‡ç« ï¼‰æ¨¡å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>GenericForeignKey</code> ä¾†å»ºç«‹ <code>LikeItem</code> èˆ‡ <code>Article</code> ä¹‹é–“çš„é—œè¯ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š</p>
<p>é¦–å…ˆï¼Œå®šç¾©ä½ çš„ <code>Article</code> æ¨¡å‹ï¼š</p>
<pre><code class="language-python">from django.db import models

class Article(models.Model):
    # æ–‡ç« çš„å±¬æ€§ï¼Œä¾‹å¦‚æ¨™é¡Œã€å…§å®¹ç­‰ç­‰
    title = models.CharField(max_length=100)
    content = models.TextField()

    def __str__(self):
        return self.title
</code></pre>
<p>ç„¶å¾Œï¼Œå®šç¾©ä½ çš„ <code>LikeItem</code> æ¨¡å‹ï¼Œä½¿ç”¨ <code>GenericForeignKey</code> ä¾†å»ºç«‹é€šç”¨å¤–éµé—œè¯ï¼š</p>
<pre><code class="language-python">from django.contrib.contenttypes.fields import GenericForeignKey
from django.contrib.contenttypes.models import ContentType
from django.contrib.auth.models import User
from django.db import models

class LikeItem(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE)
    object_id = models.PositiveIntegerField()
    content_object = GenericForeignKey('content_type', 'object_id')
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>LikeItem</code> æ¨¡å‹å¯ä»¥é—œè¯åˆ°ä»»ä½•æ¨¡å‹çš„å¯¦ä¾‹ï¼ŒåŒ…æ‹¬ <code>Article</code>ã€‚ç•¶ä½ æƒ³è¦ç‚ºæŸç¯‡æ–‡ç« å»ºç«‹ä¸€å€‹ <code>LikeItem</code> æ™‚ï¼Œä½ å¯ä»¥é€™æ¨£åšï¼š</p>
<pre><code class="language-python"># å‰µå»ºä¸€ç¯‡æ–‡ç« 
article = Article.objects.create(title="æ¨™é¡Œ", content="æ–‡ç« å…§å®¹")

# å‰µå»ºä¸€å€‹ LikeItem é—œè¯åˆ°é€™ç¯‡æ–‡ç« 
like_item = LikeItem.objects.create(user=user, content_type=ContentType.objects.get_for_model(article), object_id=article.id)

# ä½¿ç”¨ GenericForeignKey è¨ªå•è¢«é»è´Šçš„ç‰©ä»¶
liked_article = like_item.content_object
print(liked_article.title)  # è¼¸å‡º: æ¨™é¡Œ
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>content_type</code> æŒ‡å®šç‚º <code>Article</code> æ¨¡å‹çš„é¡å‹ï¼Œ<code>object_id</code> æŒ‡å®šç‚ºå…·é«”æ–‡ç« çš„ IDã€‚é€šé <code>GenericForeignKey</code>ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>content_object</code> ç›´æ¥è¨ªå•åˆ°è¢«é»è´Šçš„æ–‡ç« çš„å±¬æ€§ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥å‹•æ…‹åœ°å»ºç«‹èˆ‡ä¸åŒæ¨¡å‹çš„é—œè¯ï¼Œè€Œä¸éœ€è¦ç‚ºæ¯ç¨®æ¨¡å‹éƒ½å®šç¾©ä¸€å€‹å–®ç¨çš„å¤–éµã€‚</p>
<hr>
<h2 id="reverse-relationshipexample">Reverse Relationship - <strong>Example</strong></h2>
<p>åœ¨ Django ä¸­ï¼Œ<strong>åå‘é—œä¿‚(reverse relationship)</strong> é€šå¸¸æ˜¯è‡ªå‹•ç”¢ç”Ÿçš„ï¼Œç„¡è«–æ˜¯åœ¨ä¸€å°ä¸€ï¼ˆOne-to-Oneï¼‰ã€ä¸€å°å¤šï¼ˆOne-to-Manyï¼‰é‚„æ˜¯å¤šå°å¤šï¼ˆMany-to-Manyï¼‰çš„é—œä¿‚ä¸­ï¼ŒDjango éƒ½æœƒè‡ªå‹•ç‚ºä½ å»ºç«‹åå‘é—œä¿‚ã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥å¾ä¸€å€‹æ¨¡å‹å°è±¡è¨ªå•èˆ‡ä¹‹ç›¸é—œè¯çš„å…¶ä»–æ¨¡å‹å°è±¡ã€‚</p>
<p>å‡è¨­ä½ æœ‰å…©å€‹æ¨¡å‹ï¼Œä¸€å€‹æ˜¯<code>Author</code>ï¼Œå¦ä¸€å€‹æ˜¯<code>Book</code>ã€‚<code>Book</code>æ¨¡å‹æœ‰ä¸€å€‹å¤–éµæ¬„ä½æŒ‡å‘<code>Author</code>æ¨¡å‹ï¼š</p>
<pre><code class="language-python">from django.db import models

class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>Book</code>æ¨¡å‹æœ‰ä¸€å€‹å¤–éµæ¬„ä½<code>author</code>æŒ‡å‘<code>Author</code>æ¨¡å‹ã€‚Django æœƒè‡ªå‹•ç‚º<code>Author</code>æ¨¡å‹ç”Ÿæˆä¸€å€‹åå‘é—œä¿‚ã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥é€é<code>Author</code>æ¨¡å‹ä¾†è¨ªå•æ‰€æœ‰èˆ‡ä¹‹ç›¸é—œè¯çš„æ›¸ç±ï¼Œå³ä½¿ä½ ä¸¦æ²’æœ‰åœ¨<code>Author</code>æ¨¡å‹ä¸­å®šç¾©ç›¸é—œçš„æ¬„ä½ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€å€‹<code>Author</code>çš„å¯¦ä¾‹<code>author</code>ï¼Œä½ å¯ä»¥é€™æ¨£ç²å–æ‰€æœ‰èˆ‡é€™å€‹ä½œè€…ç›¸é—œçš„æ›¸ç±ï¼š</p>
<pre><code class="language-python">books = author.book_set.all()
</code></pre>
<p>åœ¨é€™è£¡ï¼Œ<code>book_set</code>å°±æ˜¯ Django è‡ªå‹•ç‚º<code>Author</code>æ¨¡å‹ç”Ÿæˆçš„åå‘é—œä¿‚ã€‚é€™å€‹åç¨±çš„æ ¼å¼æ˜¯<code>å°å¯«çš„æ¨¡å‹åç¨±_set</code>ï¼Œå®ƒå¯ä»¥è®“ä½ è¨ªå•åˆ°æ‰€æœ‰èˆ‡é€™å€‹æ¨¡å‹ç›¸é—œçš„å°è±¡ã€‚é€™ç¨®åå‘é—œä¿‚çš„è‡ªå‹•ç”Ÿæˆä½¿å¾—åœ¨ Django ä¸­é€²è¡Œæ¨¡å‹ä¹‹é–“çš„æŸ¥è©¢å’Œæ“ä½œæ›´åŠ æ–¹ä¾¿ã€‚</p>
<hr>
<p>ç„¶è€Œï¼Œæœ‰ä¸€å€‹ç‰¹æ®Šçš„æƒ…æ³æ˜¯å¦‚æœä½ å·²ç¶“ä½¿ç”¨äº† <code>related_name</code> åƒæ•¸ä¾†å®šç¾©äº†è‡ªå®šç¾©çš„åå‘é—œä¿‚åç¨±ï¼Œåå‘é—œä¿‚çš„åç¨±å°±ä¸å†æ˜¯é»˜èªçš„ <code>å°å¯«çš„æ¨¡å‹åç¨±_set</code> æ ¼å¼ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½ å¿…é ˆé€šéè‡ªå®šç¾©çš„åç¨±ä¾†è¨ªå•åå‘é—œä¿‚ã€‚</p>
<p>èˆ‰ä¾‹ä¾†èªªï¼š</p>
<pre><code class="language-python">from django.db import models

class Person(models.Model):
    name = models.CharField(max_length=100)

class Passport(models.Model):
    number = models.CharField(max_length=20)
    person = models.OneToOneField(Person, on_delete=models.CASCADE, related_name='passport')
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>Passport</code> æ¨¡å‹æœ‰ä¸€å€‹ä¸€å°ä¸€çš„å¤–éµé—œä¿‚ï¼Œä¸¦ä¸”ä½¿ç”¨äº† <code>related_name='passport'</code> åƒæ•¸ã€‚é€™æ¨£ï¼Œåœ¨ <code>Person</code> æ¨¡å‹ä¸­å°±ä¸æœƒè‡ªå‹•ç”Ÿæˆé»˜èªçš„åå‘é—œä¿‚ã€‚è¦è¨ªå•é€™å€‹é—œä¿‚ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>passport</code> é€™å€‹è‡ªå®šç¾©çš„åç¨±ï¼š</p>
<pre><code class="language-python">person = Person.objects.get(pk=1)
passport = person.passport  # è¨ªå•ä¸€å°ä¸€é—œä¿‚çš„åå‘é—œä¿‚
</code></pre>
<p>åœ¨å…¶ä»–æƒ…æ³ä¸‹ï¼ˆåŒ…æ‹¬ä¸€å°å¤šå’Œå¤šå°å¤šé—œä¿‚ï¼‰ï¼ŒDjango éƒ½æœƒè‡ªå‹•ç”Ÿæˆé»˜èªçš„åå‘é—œä¿‚ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨æ¨¡å‹çš„åç¨±ï¼ˆå°å¯«ï¼‰ä½œç‚ºåå‘é—œä¿‚çš„åç¨±ã€‚</p>
<h2 id="relatedname-field-in-foreignkey"><code>related_name</code> field in <strong>ForeignKey</strong></h2>
<p>åœ¨ä¸€å°å¤šé—œä¿‚ä¸­ï¼Œ<code>related_name</code> å¯ä»¥è¢«ç”¨ä¾†å®šç¾©åå‘é—œä¿‚çš„åç¨±ï¼Œä½¿ä½ èƒ½å¤ æ›´å…·æ„ç¾©åœ°è¨ªå•ç›¸é—œå°è±¡ã€‚åœ¨å¤šå°å¤šé—œä¿‚ä¸­ï¼Œ<code>related_name</code> å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é€šéä¸­é–“è¡¨è¨ªå•ç›¸é—œå°è±¡æ™‚çš„åç¨±ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€å€‹ä¸€å°å¤šå’Œå¤šå°å¤šé—œä¿‚ä¸­ <code>related_name</code> çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p><strong>ä¸€å°å¤šï¼ˆOne-to-Manyï¼‰é—œä¿‚ï¼š</strong></p>
<pre><code class="language-python">from django.db import models

class Author(models.Model):
    name = models.CharField(max_length=100)

class Book(models.Model):
    title = models.CharField(max_length=100)
    author = models.ForeignKey(Author, on_delete=models.CASCADE, related_name='books')
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>Book</code> æ¨¡å‹çš„ <code>author</code> æ¬„ä½å®šç¾©äº†å¤–éµé—œä¿‚ï¼Œä¸¦ä¸”ä½¿ç”¨äº† <code>related_name='books'</code> åƒæ•¸ã€‚é€™æ¨£ï¼Œä½ å°±å¯ä»¥é€é <code>author.books.all()</code> ä¾†è¨ªå•ä¸€ä½ä½œè€…çš„æ‰€æœ‰æ›¸ç±ã€‚</p>
<p><strong>å¤šå°å¤šï¼ˆMany-to-Manyï¼‰é—œä¿‚ï¼š</strong></p>
<pre><code class="language-python">from django.db import models

class Person(models.Model):
    name = models.CharField(max_length=100)
    groups = models.ManyToManyField('Group', related_name='memberships')

class Group(models.Model):
    name = models.CharField(max_length=100)
    # å…¶ä»–æ¬„ä½å’Œæ–¹æ³•
</code></pre>
<p>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œ<code>Person</code> æ¨¡å‹å’Œ <code>Group</code> æ¨¡å‹ä¹‹é–“å»ºç«‹äº†å¤šå°å¤šçš„é—œä¿‚ã€‚<code>Person</code> æ¨¡å‹çš„ <code>groups</code> æ¬„ä½ä½¿ç”¨äº† <code>related_name='memberships'</code> åƒæ•¸ã€‚é€™æ¨£ï¼Œä½ å¯ä»¥é€é <code>group.memberships.all()</code> ä¾†è¨ªå•ä¸€å€‹ç¾¤çµ„ä¸­çš„æ‰€æœ‰æˆå“¡ã€‚</p>

            </div>

        </article>




                <div class="related-wrapper gh-outer">
            <section class="related-posts gh-inner">
                <h3 class="related-title">
                    <span class="text">You might also like...</span>
                </h3>
                <div class="post-feed">
                        <article class="post tag-django tag-python tag-web-dev tag-notes tag-en u-shadow">
<a class="post-link" href="/2020/10/django-fundamental/">
        <figure class="post-media">
            <div class="u-placeholder same-height rectangle">
                <img
                    class="post-image u-object-fit"
                    srcset="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;400 400w,
                            https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;720 750w,
                            https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960 960w,
                            https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1200 1140w,
                            https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 1920w"
                    sizes="600px"
                    src="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDEwfHxweXRob258ZW58MHx8fHwxNzA2NzQzOTAyfDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;960"
                    alt="ğŸ“š Django - Fundamental"
                    loading="lazy"
                >
            </div>
        </figure>

    <div class="post-wrapper">
        <header class="post-header">
                <span class="post-tag">Django</span>

            <h2 class="post-title">
                ğŸ“š Django - Fundamental
            </h2>
        </header>

            <div class="post-excerpt">
                æœ¬æ–‡æ˜¯é—œæ–¼ Django åŸºç¤çš„ç­†è¨˜
            </div>
    </div>

    <footer class="post-footer">
        <span class="post-more">Read More</span>
        <span class="post-time"><time class="post-card-meta-date" datetime="2020-10-24">Oct 24, 2020</time></span>

        
    </footer>
</a>
</article>                </div>
            </section>
        </div>

</main>
    </div>

    <footer class="gh-foot no-menu gh-outer">
        <div class="gh-foot-inner gh-inner">
            <div class="gh-copyright">
                <a href="https://cmwang.net" rel="noopener">Liberation Notes</a> Â© 2024
            </div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script src="/assets/built/main.min.js?v=4fd90ad2f7"></script>

<!-- hide footer -->
<style>
.gh-foot-menu {
  display: none;
}

.gh-footer-copyright {
  display: none;
}
</style>


<!-- prism.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-SkmBfuA2hqjzEVpmnMt/LINrjop3GKWqsuLSSB3e7iBmYK7JuWw4ldmmxwD9mdm2IRTTi0OxSAfEGvgEi0i2Kw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js" integrity="sha512-st608h+ZqzliahyzEpETxzU0f7z7a9acN6AFvYmHvpFhmcFuKT8a22TT5TpKpjDa3pt3Wv7Z3SdQBCBdDPhyWA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js" integrity="sha512-/kVH1uXuObC0iYgxxCKY41JdWOkKOxorFVmip+YVifKsJ4Au/87EisD1wty7vxN2kAhnWh6Yc8o/dSAXj6Oz7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- YouTube iframe API -->
<script src="https://www.youtube.com/iframe_api" ></script>
<script src="https://cdn.jsdelivr.net/npm/subtitles-parser@0.0.2/index.min.js" type="text/javascript" crossorigin="anonymous" referrerpolicy="no-referrer" ></script>
<script src="https://blog2.cmwang.net/subtitles/js/youtube.external.subtitle.min.js" type="text/javascript" crossorigin="anonymous" referrerpolicy="no-referrer" ></script>
<script src="https://blog2.cmwang.net/subtitles/js/loadsrt.min.js" type="text/javascript" crossorigin="anonymous" referrerpolicy="no-referrer" ></script>

</body>
</html>