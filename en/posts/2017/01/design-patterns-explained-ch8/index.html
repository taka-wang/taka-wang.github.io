<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Design Patterns Explained - CH8 | Liberation Notes</title><meta name=keywords content="Design Patterns"><meta name=description content="Expanding Our Horizons
Overview

Object
Encapsulation
Inheritance
Handling variation
Commonality and variability analysis
Abstract class and its derived classes
"><meta name=author content="Taka"><link rel=canonical href=https://blog.cmwang.net/en/posts/2017/01/design-patterns-explained-ch8/><link crossorigin=anonymous href=/assets/css/stylesheet.91370bc583657595909f0a0c8fbd27d2dd343094ce25f68cd5318df27d74bf67.css integrity="sha256-kTcLxYNldZWQnwoMj70n0t00MJTOJfaM1TGN8n10v2c=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.cmwang.net/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.cmwang.net/assets/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.cmwang.net/assets/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.cmwang.net/assets/apple-touch-icon.png><link rel=mask-icon href=https://blog.cmwang.net/assets/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.cmwang.net/en/posts/2017/01/design-patterns-explained-ch8/><link rel=alternate hreflang=zh href=https://blog.cmwang.net/zh/posts/2017/01/design-patterns-explained-ch8/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-G9WYYRMSWH"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G9WYYRMSWH")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-G9WYYRMSWH"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G9WYYRMSWH",{anonymize_ip:!1})}</script><meta property="og:title" content="Design Patterns Explained - CH8"><meta property="og:description" content="Expanding Our Horizons
Overview

Object
Encapsulation
Inheritance
Handling variation
Commonality and variability analysis
Abstract class and its derived classes
"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.cmwang.net/en/posts/2017/01/design-patterns-explained-ch8/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-01-21T20:12:53+00:00"><meta property="article:modified_time" content="2017-01-21T20:12:53+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Design Patterns Explained - CH8"><meta name=twitter:description content="Expanding Our Horizons
Overview

Object
Encapsulation
Inheritance
Handling variation
Commonality and variability analysis
Abstract class and its derived classes
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.cmwang.net/en/posts/"},{"@type":"ListItem","position":2,"name":"Design Patterns Explained - CH8","item":"https://blog.cmwang.net/en/posts/2017/01/design-patterns-explained-ch8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Design Patterns Explained - CH8","name":"Design Patterns Explained - CH8","description":"Expanding Our Horizons Overview Object Encapsulation Inheritance Handling variation Commonality and variability analysis Abstract class and its derived classes ","keywords":["Design Patterns"],"articleBody":"Expanding Our Horizons Overview Object Encapsulation Inheritance Handling variation Commonality and variability analysis Abstract class and its derived classes Objects: Traditional view and new view Traditional View Data with methods - smart data too narrow from implementation perspective Broad View From conceptual perspective an object is an entity that has responsibilities (責任), these responsibilities define the behavior of the object. Or an entity that has specific behavior (特定行為). Focus on intention/motivation not implementation This view enables us to build software in two steps:\nMake a preliminary design without worrying about all the details involved. Implement the design. The reason this works is that we only have to focus on the object’s public interface — the communication window through which I ask the object to do something.\nHiding implementations behind interfaces essentially decouples them from the using objects.\nEncapsulation: Traditional view and new view Traditional View data hiding Broad View any kind of hiding Implementations (data, methods..) Drived classes (Encapsulation of type is achieved when there is an abstract class with derivations (or an interface with implementations) that are used polymorphically) Design details Instantiation rules (ex. creational patterns) Advantage It gives us a better way to split up (decompose) our programs. The encapsulating layers become the interfaces we design to. (封裝層成為設計需要遵循的介面)\nBy encapsulating different kinds of subclasses (encapsulation of type), we can add new ones without changing any of the client programs using them. (GoF typically means when they mention encapsulation)\nInheritance Traditional View reuse of classes achived by creating classes and then deriving new (spcialized) classes bases on these base (generalized) classes Broad View using inheritance for specialization, however can cause weak cohesion reduces possibility of reuse does not scale well with variation to classify classes as things that behave the same way. (placeholder) Find What Is Varying and Encapsulate It Consider what should be variable in your design. This approach is the opposite of focusing on the cause of redesign. Instead of considering what might force a change to a design, consider what you want to be able to change without redesign. The focus here is on encapsulating the concept that varies, a theme of many design patterns. – GoF, Design Patterns\nMore about GoF’s Encapsulation Design Patterns use inheritance to classify variations in behaviors. Hiding classes with an abstract class or interface — type encapsulation. Containing a reference of this abstract class or interface type (aggregation) hides these derived classes that represent variations in behavior. In effect, many design patterns use encapsulation to create layers between objects. Containing variation in data vs containing variation in behavior Handling variation in data Have a data member that tells me what type of movement my object has. Have two different types of Animals (both derived from the base Animal class) — one for walking and one for flying. Handling variation in behavior with objects Using objects to contain variation in attributes and using objects to contain variation in behavior are very similar. Don’t afraid.\nCommonality and Variability Identify where things vary (commonality analysis) and then identify how they vary (variability analysis).\nCommonality analysis is the search for common elements that helps us understand how family members are the same.\nVariability analysis reveals how family members vary. Variability only makes sense within a given commonality.\nEx. Whiteboard marker, pencil, ballpoint pen\nCommonality: writing instrument Variability: material to write, shape.. Commonality and Variability and Abstract class Commonality analysis seeks structure that is unlikely to change over time, while variability analysis captures structure that is likely to change. Variability analysis makes sense only in terms of the context defined by the associated commonality analysis. In other words, if variations are the specific concrete cases in the domain, commonality defines the concepts in the domain that tie them together. The common concepts will be represented by abstract classes. The variations found by variability analysis will be implemented by the concrete classes.\nRelationship between Commonality and Variability, perspectives, and abstract classes Benefits of using abstract classes for specialization Two-Step Procedure for Design Ask yourself:\nWhen defining an abstract class (commonality): What interface is needed to handle all the responsibilities (core concepts from the conceptual perspective) of this class? When defining derived classes: Given this particular implementation (this variation), how can I implement it (variation) with the given specification? Take away Think object-oriented in a broad way.\nObject: an entity that has responsibilities (specific behavior) Encapsulation: any kind of hiding (instantiation rule, type..) Inheritance: use for specialization and classify classes as things that behave the same way. Find what is varying and encapsulate it (in behavior).\nCommonality, variability and abstract class: use inheritance to classify variations in behaviors.\n","wordCount":"803","inLanguage":"en","datePublished":"2017-01-21T20:12:53Z","dateModified":"2017-01-21T20:12:53Z","author":[{"@type":"Person","name":"Taka"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.cmwang.net/en/posts/2017/01/design-patterns-explained-ch8/"},"publisher":{"@type":"Organization","name":"Liberation Notes","logo":{"@type":"ImageObject","url":"https://blog.cmwang.net/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.cmwang.net/en/ accesskey=h title="Liberation Notes (Alt + H)">Liberation Notes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.cmwang.net/zh/ title=中文 aria-label=中文>中文</a></li></ul></div></div><ul id=menu><li><a href=https://blog.cmwang.net/en/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://blog.cmwang.net/en/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://blog.cmwang.net/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://blog.cmwang.net/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Design Patterns Explained - CH8</h1><div class=post-meta><span title='2017-01-21 20:12:53 +0000 UTC'>2017-01-21</span>&nbsp;·&nbsp;803 words&nbsp;·&nbsp;Taka&nbsp;|&nbsp;Translations:<ul class=i18n_list><li><a href=https://blog.cmwang.net/zh/posts/2017/01/design-patterns-explained-ch8/>中文</a></li></ul></div></header><div class=post-content><h1 id=expanding-our-horizons>Expanding Our Horizons<a hidden class=anchor aria-hidden=true href=#expanding-our-horizons>#</a></h1><h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2><ul><li>Object</li><li>Encapsulation</li><li>Inheritance</li><li>Handling variation</li><li>Commonality and variability analysis</li><li>Abstract class and its derived classes</li></ul><h2 id=objects-traditional-view-and-new-view>Objects: Traditional view and new view<a hidden class=anchor aria-hidden=true href=#objects-traditional-view-and-new-view>#</a></h2><h3 id=traditional-view>Traditional View<a hidden class=anchor aria-hidden=true href=#traditional-view>#</a></h3><ul><li>Data with methods - <strong>smart data</strong></li><li>too narrow from <strong>implementation</strong> perspective</li></ul><h3 id=broad-view>Broad View<a hidden class=anchor aria-hidden=true href=#broad-view>#</a></h3><ul><li>From <strong>conceptual</strong> perspective</li><li>an object is an <em>entity that has responsibilities</em> (責任), these responsibilities define the behavior of the object. Or an <em>entity that has specific behavior</em> (特定行為).</li></ul><h2 id=focus-on-intentionmotivation-not-implementation>Focus on intention/motivation not implementation<a hidden class=anchor aria-hidden=true href=#focus-on-intentionmotivation-not-implementation>#</a></h2><p>This view enables us to build software in two steps:</p><ol><li>Make a preliminary design without worrying about all the details involved.</li><li>Implement the design.</li></ol><p>The reason this works is that we only have to focus on the object’s <strong>public interface</strong> — the communication window through which I ask the object to do something.</p><p>Hiding implementations behind interfaces essentially <strong>decouples</strong> them from the using objects.</p><hr><h2 id=encapsulation-traditional-view-and-new-view>Encapsulation: Traditional view and new view<a hidden class=anchor aria-hidden=true href=#encapsulation-traditional-view-and-new-view>#</a></h2><h3 id=traditional-view-1>Traditional View<a hidden class=anchor aria-hidden=true href=#traditional-view-1>#</a></h3><ul><li>data hiding</li></ul><h3 id=broad-view-1>Broad View<a hidden class=anchor aria-hidden=true href=#broad-view-1>#</a></h3><ul><li><strong>any kind of hiding</strong><ul><li>Implementations (data, methods..)</li><li><strong>Drived</strong> classes (<strong>Encapsulation of type</strong> is achieved when there is an <em>abstract class</em> with derivations (or an interface with implementations) that are used <em>polymorphically</em>)</li><li>Design details</li><li>Instantiation rules (ex. creational patterns)</li></ul></li></ul><h2 id=advantage>Advantage<a hidden class=anchor aria-hidden=true href=#advantage>#</a></h2><p>It gives us a better way to split up (decompose) our programs. The <strong>encapsulating layers</strong> become the <strong>interfaces</strong> we design to. (封裝層成為設計需要遵循的介面)</p><p>By encapsulating different kinds of subclasses (<strong>encapsulation of type</strong>), we can add new ones without changing any of the client programs using them. (<em>GoF typically means when they mention encapsulation</em>)</p><hr><h2 id=inheritance>Inheritance<a hidden class=anchor aria-hidden=true href=#inheritance>#</a></h2><h3 id=traditional-view-2>Traditional View<a hidden class=anchor aria-hidden=true href=#traditional-view-2>#</a></h3><ul><li><strong>reuse</strong> of classes</li><li>achived by creating classes and then deriving new (<em>spcialized</em>) classes bases on these base (<em>generalized</em>) classes</li></ul><h3 id=broad-view-2>Broad View<a hidden class=anchor aria-hidden=true href=#broad-view-2>#</a></h3><ul><li>using inheritance for specialization, however<ul><li>can cause weak cohesion</li><li>reduces possibility of reuse</li><li>does not scale well with variation</li></ul></li><li><em>to classify classes as things that behave the same way</em>. (<strong>placeholder</strong>)</li></ul><hr><h2 id=find-what-is-varying-and-encapsulate-it>Find What Is Varying and Encapsulate It<a hidden class=anchor aria-hidden=true href=#find-what-is-varying-and-encapsulate-it>#</a></h2><blockquote><p>Consider <strong>what</strong> should be variable in your design. This approach is the opposite of focusing on the <strong>cause</strong> of redesign. Instead of considering what might force a change to a design, consider what you want to be <strong><em>able</em></strong> to change without redesign. The focus here is on <strong><em>encapsulating the concept that varies</em></strong>, a theme of many design patterns.
&ndash; GoF, Design Patterns</p></blockquote><hr><h2 id=more-about-gofs-encapsulation>More about GoF&rsquo;s Encapsulation<a hidden class=anchor aria-hidden=true href=#more-about-gofs-encapsulation>#</a></h2><ul><li>Design Patterns use inheritance to classify variations in behaviors.</li><li>Hiding classes with an abstract class or interface — <strong>type encapsulation</strong>.</li><li>Containing a reference of this <em>abstract class</em> or <em>interface</em> type (aggregation) <strong>hides</strong> these <em>derived classes</em> that represent <strong>variations</strong> in behavior.</li><li>In effect, many design patterns <em>use encapsulation to create layers</em> between objects.</li></ul><hr><h2 id=containing-variation-in-data-vs-containing-variation-in-behavior>Containing variation in data vs containing variation in behavior<a hidden class=anchor aria-hidden=true href=#containing-variation-in-data-vs-containing-variation-in-behavior>#</a></h2><h3 id=handling-variation-in-data>Handling variation in data<a hidden class=anchor aria-hidden=true href=#handling-variation-in-data>#</a></h3><ul><li>Have a data member that tells me what type of movement my object has.</li><li>Have two different types of <strong>Animals</strong> (both derived from the base <strong>Animal</strong> class) — one for walking and one for flying.</li></ul><h3 id=handling-variation-in-behavior-with-objects>Handling variation in behavior with objects<a hidden class=anchor aria-hidden=true href=#handling-variation-in-behavior-with-objects>#</a></h3><p>Using objects to contain variation in attributes and using objects to contain variation in behavior are very similar. Don&rsquo;t afraid.</p><hr><h2 id=commonality-and-variability>Commonality and Variability<a hidden class=anchor aria-hidden=true href=#commonality-and-variability>#</a></h2><p>Identify <strong>where</strong> things vary (commonality analysis) and then identify <strong>how</strong> they vary (variability analysis).</p><p><strong>Commonality analysis</strong> is the search for common elements that helps us understand how family members are the same.</p><p><strong>Variability analysis</strong> reveals how family members vary. Variability only makes sense within a given commonality.</p><p>Ex. Whiteboard marker, pencil, ballpoint pen</p><ul><li>Commonality: writing instrument</li><li>Variability: material to write, shape..</li></ul><h2 id=commonality-and-variability-and-abstract-class>Commonality and Variability and Abstract class<a hidden class=anchor aria-hidden=true href=#commonality-and-variability-and-abstract-class>#</a></h2><p><strong>Commonality analysis</strong> seeks structure that is unlikely to change over time, while <strong>variability analysis</strong> captures structure that is likely to change. <strong><em>Variability analysis makes sense only in terms of the context defined by the associated commonality analysis</em></strong>.
In other words, if variations are the specific concrete cases in the domain, commonality defines the concepts in the domain that tie them together. The <strong><em>common concepts</em></strong> will be represented by <strong>abstract classes</strong>. The <strong><em>variations</em></strong> found by variability analysis will be implemented by the <strong>concrete classes</strong>.</p><h2 id=relationship-between-commonality-and-variability-perspectives-and-abstract-classes>Relationship between Commonality and Variability, perspectives, and abstract classes<a hidden class=anchor aria-hidden=true href=#relationship-between-commonality-and-variability-perspectives-and-abstract-classes>#</a></h2><p><img loading=lazy src=relationship.png alt=relationship></p><hr><h2 id=benefits-of-using-abstract-classes-for-specialization>Benefits of using abstract classes for specialization<a hidden class=anchor aria-hidden=true href=#benefits-of-using-abstract-classes-for-specialization>#</a></h2><p><img loading=lazy src=benefits.png alt=benefits></p><hr><h2 id=two-step-procedure-for-design>Two-Step Procedure for Design<a hidden class=anchor aria-hidden=true href=#two-step-procedure-for-design>#</a></h2><p>Ask yourself:</p><ul><li>When defining an <strong>abstract class</strong> (commonality):<ul><li>What <strong>interface</strong> is needed to handle all the responsibilities (core concepts from the conceptual perspective) of this class?</li></ul></li><li>When defining <strong>derived classes</strong>:<ul><li>Given this particular implementation (this <strong>variation</strong>), how can I implement it (variation) with the given specification?</li></ul></li></ul><hr><h2 id=take-away>Take away<a hidden class=anchor aria-hidden=true href=#take-away>#</a></h2><p>Think object-oriented in a broad way.</p><ul><li>Object: an <em>entity that has responsibilities (specific behavior)</em></li><li>Encapsulation: <strong>any</strong> kind of <strong>hiding</strong> (instantiation rule, type..)</li><li>Inheritance: use for <strong>specialization</strong> and <em>classify classes as things that behave the same way</em>.</li></ul><p><strong>Find what is varying and encapsulate it</strong> (in behavior).</p><p>Commonality, variability and abstract class: use inheritance to classify variations in behaviors.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.cmwang.net/en/tags/design-patterns/>Design Patterns</a></li></ul><nav class=paginav><a class=prev href=https://blog.cmwang.net/en/posts/2022/08/execute-yolov7-model-on-ios-devices/><span class=title>« Prev</span><br><span>Execute YOLOv7 model on iOS devices</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns Explained - CH8 on twitter" href="https://twitter.com/intent/tweet/?text=Design%20Patterns%20Explained%20-%20CH8&amp;url=https%3a%2f%2fblog.cmwang.net%2fen%2fposts%2f2017%2f01%2fdesign-patterns-explained-ch8%2f&amp;hashtags=DesignPatterns"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns Explained - CH8 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.cmwang.net%2fen%2fposts%2f2017%2f01%2fdesign-patterns-explained-ch8%2f&amp;title=Design%20Patterns%20Explained%20-%20CH8&amp;summary=Design%20Patterns%20Explained%20-%20CH8&amp;source=https%3a%2f%2fblog.cmwang.net%2fen%2fposts%2f2017%2f01%2fdesign-patterns-explained-ch8%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns Explained - CH8 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.cmwang.net%2fen%2fposts%2f2017%2f01%2fdesign-patterns-explained-ch8%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns Explained - CH8 on telegram" href="https://telegram.me/share/url?text=Design%20Patterns%20Explained%20-%20CH8&amp;url=https%3a%2f%2fblog.cmwang.net%2fen%2fposts%2f2017%2f01%2fdesign-patterns-explained-ch8%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><section class="article discussion"><script defer>let discussionSection=document.querySelector("section.article.discussion"),logoSwitches=document.querySelector(".logo-switches"),debounceTimer;function loadComments(e,t){let n=document.createElement("script");n.src="https://giscus.app/client.js",n.setAttribute("data-repo","takawang/utterances-comment"),n.setAttribute("data-repo-id","R_kgDOKdHFAQ"),n.setAttribute("data-category","Announcements"),n.setAttribute("data-category-id","DIC_kwDOKdHFAc4CZ8BS"),n.setAttribute("data-mapping","pathname"),n.setAttribute("data-strict","0"),n.setAttribute("data-reactions-enabled","1"),n.setAttribute("data-emit-metadata","0"),n.setAttribute("data-input-position","bottom"),n.setAttribute("data-theme",e),n.setAttribute("data-lang",t),n.setAttribute("data-loading","lazy"),n.setAttribute("crossorigin","anonymous"),n.setAttribute("async",""),discussionSection.innerHTML="",discussionSection.appendChild(n)}let currentHugoTheme=window.localStorage.getItem("pref-theme")||"light",currentLang=(document.documentElement.lang||"en").toLowerCase();loadComments(currentHugoTheme=="light"?"light":"dark",currentLang==="zh"?"zh-TW":"en"),logoSwitches.onclick=()=>{clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{let e=window.localStorage.getItem("pref-theme")||"light",t=(document.documentElement.lang||"en").toLowerCase();(e!==currentHugoTheme||t!==currentLang)&&(currentHugoTheme=e,currentLang=t,loadComments(e=="light"?"light":"dark",t==="zh"?"zh-TW":"en"))},200)}</script></section></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>